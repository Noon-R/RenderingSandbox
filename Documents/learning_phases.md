# DirectX 12 レンダリング学習フェーズ

---

## Phase 1: DirectX 12 基盤構築（2-3ヶ月）

### 目標
DirectX 12 の低レベル API を理解し、基本的な描画ができるようになる

### 学習項目

| 項目 | 関連セクション | 備考 |
|------|---------------|------|
| Win32 ウィンドウ作成 | - | Windows API 基礎 |
| D3D12 初期化 | 1.1 初期化・デバイス管理 | デバイス、スワップチェーン、コマンドキュー |
| 三角形描画 | 1.2, 1.4, 1.5 | 頂点バッファ、PSO、ルートシグネチャ |
| テクスチャ読み込みと描画 | 3.2, 17.1 | SRV、サンプラー |
| 定数バッファによる変換行列 | 3.2 | CBV、ワールド・ビュー・プロジェクション |
| 深度バッファ実装 | 1.4, 2.1 | DSV、深度テスト |

### 成果物
- 回転するテクスチャ付きキューブの描画

---

## Phase 2: 基本レンダリング（2-3ヶ月）

### 目標
実用的な3Dシーンを描画し、基本的なライティングとシャドウを実装する

### 学習項目

| 項目 | 関連セクション | 備考 |
|------|---------------|------|
| モデルローダー実装 | - | OBJ / glTF パーサー |
| カメラシステム | - | FPS / Orbit カメラ |
| 基本ライティング | 5.1 | Lambert、Blinn-Phong |
| 複数ライト対応 | 5.2 | Directional / Point / Spot |
| 基本シャドウマッピング | 8.1 | 深度マップ、バイアス |
| ミップマップ・異方性フィルタリング | 17.1 | テクスチャ品質向上 |

### 成果物
- 複数ライト・シャドウ付きのシーン描画

---

## Phase 3: プロファイリング・デバッグ（1-2ヶ月）

### 目標
パフォーマンス計測とクラッシュ調査の手法を習得し、安定した開発基盤を構築する

### 学習項目

| 項目 | 関連セクション | 備考 |
|------|---------------|------|
| PIX for Windows 基礎 | 18.1 | GPU キャプチャ、タイムライン解析 |
| D3D12 Debug Layer | 18.4.1 | バリデーション有効化 |
| GPU-Based Validation | 18.4.1 | より詳細なエラー検出 |
| DRED 設定と活用 | 18.4.1 | Device Removed 時の診断 |
| GPU タイミング計測 | 18.2 | タイムスタンプクエリ実装 |
| よくあるクラッシュ原因の理解 | 18.4.2 | バリア不正、同期エラー等 |
| シェーダーデバッグ | 18.4.3 | PIX シェーダーデバッガ |
| ボトルネック分析 | 18.3 | CPU/GPU バウンド判定 |

### 成果物
- デバッグレイヤー統合済みの開発環境
- GPU タイミング計測システム
- プロファイリングレポート出力機能

### 重要性
このフェーズで習得するスキルは以降すべてのフェーズで活用される。
問題発生時の調査時間を大幅に短縮できるため、早期に習得することを推奨。

---

## Phase 4: PBR パイプライン（2-3ヶ月）

### 目標
物理ベースレンダリングを理解し、リアルなマテリアル表現を実装する

### 学習項目

| 項目 | 関連セクション | 備考 |
|------|---------------|------|
| PBR 理論学習 | 6.1, 6.2 | レンダリング方程式、BRDF |
| GGX BRDF 実装 | 6.2 | NDF、幾何減衰、フレネル |
| IBL 実装 | 5.3 | Cubemap → プリフィルタ → BRDF LUT |
| HDR パイプライン構築 | 11.1 | HDR レンダーターゲット |
| トーンマッピング実装 | 11.1 | ACES / Reinhard |
| ブルーム実装 | 11.2 | ダウン/アップサンプル、ブラー |

### 成果物
- PBR マテリアル球のギャラリー
- HDR 環境マップによるライティング

---

## Phase 5: ディファードレンダリング（2ヶ月）

### 目標
ディファードレンダリングを実装し、大量ライトを効率的に処理する

### 学習項目

| 項目 | 関連セクション | 備考 |
|------|---------------|------|
| G-Buffer 設計・実装 | 4.2 | MRT（Multiple Render Targets） |
| ライティングパス | 4.2, 5.2 | フルスクリーンクアッド |
| マルチライト処理 | 4.2 | 100+ ライト対応 |
| SSAO 実装 | 9.1 | スクリーンスペース AO |
| フォワード + ディファード ハイブリッド | 4.1, 4.2, 15.1 | 透明オブジェクト用 |

### 成果物
- 数百ライトが動作するシーン
- SSAO 適用デモ

---

## Phase 6: 高品質シャドウ・反射（2-3ヶ月）

### 目標
高品質なシャドウと反射を実装する

### 学習項目

| 項目 | 関連セクション | 備考 |
|------|---------------|------|
| CSM（カスケードシャドウ） | 8.3 | 大規模シーン対応 |
| PCF / PCSS | 8.2 | ソフトシャドウ |
| SDF シャドウ | 8.4 | Sphere Tracing、ソフトシャドウ |
| SSR（スクリーンスペース反射） | 10.2 | Hi-Z トレーシング |
| TAA 実装 | 11.5 | 時間的安定化 |
| モーションブラー / DoF | 11.3, 11.4 | カメラエフェクト |

### 成果物
- CSM + PCSS による高品質シャドウ
- SSR による動的反射
- TAA によるエイリアシング除去

---

## Phase 7: コンピュートシェーダー活用（2ヶ月）

### 目標
コンピュートシェーダーを活用した GPU 駆動レンダリングを実装する

### 学習項目

| 項目 | 関連セクション | 備考 |
|------|---------------|------|
| コンピュートシェーダー基礎 | 2.2, 3.2 | スレッドグループ、UAV |
| GPU パーティクル | 2.2 | シミュレーション + レンダリング |
| タイルベースライトカリング | 4.3 | Forward+ 実装 |
| Hi-Z 生成 | 19.1 | オクルージョンカリング準備 |
| GPU カリング | 19.1 | フラスタム / オクルージョン |

### 成果物
- 100万パーティクルデモ
- Forward+ による効率的ライティング
- GPU 駆動カリングシステム

---

## Phase 8: レイトレーシング（3ヶ月）

### 目標
DXR を使用したリアルタイムレイトレーシングを実装する

### 学習項目

| 項目 | 関連セクション | 備考 |
|------|---------------|------|
| DXR 初期化 | 13.1 | AS 構築、シェーダーテーブル |
| 基本レイトレーシング（シャドウ） | 13.3, 8.5 | ハードシャドウ |
| RT 反射 | 13.3, 10.3 | 鏡面反射 |
| RT AO | 13.3, 9.1 | レイトレース AO |
| ハイブリッドレンダリング統合 | 13.3 | ラスタ + RT |

### 成果物
- RT シャドウ / 反射 / AO の統合デモ
- ラスタライゼーションとのハイブリッドパイプライン

---

## Phase 9: 先端技術（継続的）

### 目標
最新のレンダリング技術を学び、実装する

### 学習項目

| 項目 | 関連セクション | 備考 |
|------|---------------|------|
| メッシュシェーダー | 16.2, 3.3 | Meshlet ベースレンダリング |
| 仮想ジオメトリ概念 | 19.2 | Nanite 風アプローチ |
| パストレーシング | 13.4 | モンテカルロ積分 |
| デノイジング | 13.5 | SVGF 等 |
| ボリューメトリック表現 | 12.2, 12.3 | フォグ、雲 |
| レンダーグラフ設計 | 19.4 | フレームグラフアーキテクチャ |

### 成果物
- メッシュシェーダーによる高効率描画
- リアルタイムパストレーサー
- 完全なレンダーグラフシステム

---

## 全体タイムライン（目安）

```
Month 1-3:   Phase 1 - DirectX 12 基盤構築
Month 4-6:   Phase 2 - 基本レンダリング
Month 7-8:   Phase 3 - プロファイリング・デバッグ
Month 9-11:  Phase 4 - PBR パイプライン
Month 12-13: Phase 5 - ディファードレンダリング
Month 14-16: Phase 6 - 高品質シャドウ・反射
Month 17-18: Phase 7 - コンピュートシェーダー活用
Month 19-21: Phase 8 - レイトレーシング
Month 22+:   Phase 9 - 先端技術（継続的）
```

---

## 各フェーズ間の依存関係

```
Phase 1 ──────────────────────────────────────────────────────────────┐
    │                                                                  │
    ▼                                                                  │
Phase 2 ──────────────────────────────────────────────────┐           │
    │                                                      │           │
    ▼                                                      │           │
Phase 3 (Profile/Debug) ←──────────────────────────────────┼───────────┤
    │        ↑                                             │           │
    │        │ (全フェーズで活用)                           │           │
    ▼        │                                             │           │
Phase 4 ─────┴───────────────────────────┐                │           │
    │                                     │                │           │
    ├─────────────────┐                   │                │           │
    ▼                 ▼                   ▼                ▼           ▼
Phase 5          Phase 6             Phase 7          Phase 8     Phase 9
(Deferred)       (Shadow/Refl)       (Compute)        (RT)        (Advanced)
    │                 │                   │                │
    └────────┬────────┘                   │                │
             │                            │                │
             └────────────────┬───────────┘                │
                              │                            │
                              └──────────────┬─────────────┘
                                             │
                                             ▼
                                    統合レンダラー完成
```

---

## 補足：並行学習の推奨

以下の項目はどのフェーズでも並行して学習可能：

- **数学**：線形代数、三角関数、微積分
- **GPU アーキテクチャ**：ハードウェアの理解
- **論文読解**：SIGGRAPH / GDC の資料

※ プロファイリング・デバッグは Phase 3 で集中的に学習し、以降全フェーズで活用する
